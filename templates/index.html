<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Great Number Game</title>
</head>

<body>
    <div class="col-md-6 offset-md-3">
        <h1 <i class="fa fa-align-center" aria-hidden="true"></i>Welcome to the Great Number Game!</h1>
        <h3><i class="fa fa-align-center" aria-hidden="true">I am thinkng of a number between 1 and 100</i></h3>
        <h3><i class="fa fa-align-center" aria-hidden="true">Take a guess</i></h3>

        <p>{{session['random_number']}}</p>
        <p>{{session['guess']}}</p>

        <form action="/guess" method="POST">
            <p><input name='guess'></p>
            <p> <button type="submit"> Submit</button></p>
        </form>

        {%if 'attempt' in session %}
            {%if session['attempt'] < 5%} 
                {%if 'guess' in session%} 
                    {%if session['guess'] < session['random_number']%} 
                        <div style="background-color: red; color: white; height:200px; width: 200px; ">Too Low </div>
                    {%elif session['guess'] > session['random_number']%}
                        <div style="background-color: yellow; color: white; height:200px; width: 200px;">Too High</div>
                    {%else%}
                        <div style="background-color: green; color: white; height:200px; width: 200px;">You guessed it
        <form action="/submit" method="POST">
            <p><input name='user_info'></p>
            <p> <button type="submit"> Submit</button></p>
        </form>

        <form action="/reset" method="POST">

            <p> <button style="margin-top:100px; margin-left:50px;" type="submit"> Play again</button></p>
        </form>
    </div>


    {%endif%}
    {%endif%}
    {%else%}


    <div style="background-color: green; color: white; height:200px; width: 200px;">You lost
        <form action="/reset" method="POST">

            <p> <button style="margin-top:100px; margin-left:50px;" type="submit"> Play again</button></p>
        </form>
    </div>
    {%endif%}
    {%endif%}
    {%if 'leaderboard' in session%}
    <h3>leaderboard</h3>
    {%for i in session['leaderboard']%}
    <p>{{i}}</p>
    {%endfor%}
    {%endif%}
    </div>
</body>

</html>